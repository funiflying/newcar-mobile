{"version":3,"sources":["api.js"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;;;;;AAEA,IAAM,UAAU,CACd,KADc,EAEd,MAFc,EAGd,MAHc,EAId,KAJc,EAKd,KALc,EAMd,SANc,EAOd,OAPc,CAAhB;;IAUM,I,GAEJ,cAAY,IAAZ,EAAkB;AAAA;;AAAA;;AAChB,OAAK,IAAL,GAAY,QAAQ,EAApB;;AAEA,MAAI,CAAC,KAAK,IAAL,CAAU,OAAf,EACE,MAAM,IAAI,KAAJ,CAAU,4BAAV,CAAN;;AAEF,UAAQ,OAAR,CAAgB;AAAA,WACd,MAAK,MAAL,IAAe,UAAC,IAAD;AAAA,uEAA0B,EAA1B;;AAAA,UAAS,MAAT,QAAS,MAAT;AAAA,UAAiB,IAAjB,QAAiB,IAAjB;AAAA,aAAiC,sBAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC/E,YAAM,UAAU,qBAAW,MAAX,EAAmB,MAAK,IAAL,CAAU,OAAV,GAAoB,IAAvC,CAAhB;AACA,YAAI,MAAJ,EAAY;AACV,kBAAQ,KAAR,CAAc,MAAd;AACD;AACD,YAAI,MAAK,IAAL,CAAU,OAAd,EAAuB;AACrB,kBAAQ,GAAR,CAAY,MAAK,IAAL,CAAU,OAAtB;AACD;AACD,YAAI,IAAJ,EAAU;AACR,kBAAQ,IAAR,CAAa,IAAb;AACD;AACF,gBAAQ,eAAR;AACA,gBAAQ,GAAR,CAAY,UAAS,GAAT,EAAa,GAAb,EAAiB;AACzB,kBAAQ,GAAR,CAAY,GAAZ;AACD,cAAG,GAAH,EAAO;AACL,mBAAO,OAAO,GAAd;AACD,WAFD,MAEK;AACH,oBAAQ,GAAR;AACD;AACH,SAPD;;AASA,OArB+C,CAAjC;AAAA,KADD;AAAA,GAAhB;AAyBD,C;;AAIH,IAAM,MAAM,IAAZ;;kBAEe,G","file":"api-compiled.js","sourcesContent":["import superagent from 'superagent';\r\n\r\nconst methods = [\r\n  'get',\r\n  'head',\r\n  'post',\r\n  'put',\r\n  'del',\r\n  'options',\r\n  'patch'\r\n];\r\n\r\nclass _Api {\r\n\r\n  constructor(opts) {\r\n    this.opts = opts || {};\r\n\r\n    if (!this.opts.baseURI)\r\n      throw new Error('baseURI option is required');\r\n\r\n    methods.forEach(method =>\r\n      this[method] = (path, { params, data } = {}) => new Promise((resolve, reject) => {\r\n        const request = superagent[method](this.opts.baseURI + path);\r\n        if (params) {\r\n          request.query(params);\r\n        }\r\n        if (this.opts.headers) {\r\n          request.set(this.opts.headers);\r\n        }\r\n        if (data) {\r\n          request.send(data);\r\n        }\r\n       request.withCredentials();\r\n       request.end(function(err,res){\r\n           console.log(res)\r\n          if(err){\r\n            reject(res || err)\r\n          }else{\r\n            resolve(res)\r\n          }\r\n       });\r\n      //request.end((err, { body } = {}) =>{console.log(body); err ? reject(body || err) : resolve(body)});\r\n      })\r\n    );\r\n\r\n  }\r\n\r\n}\r\n\r\nconst Api = _Api;\r\n\r\nexport default Api;\r\n"]}